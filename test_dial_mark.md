# 表盘标注功能测试说明

## 功能概述

新开发的表盘标注功能允许用户在表盘图片上添加文本标注，并可以选择不同颜色和字体大小。

## 测试步骤

### 1. 启动应用程序
- 编译并运行程序 `InstrumentDashboard.exe`

### 2. 打开表盘标注对话框
- 点击工具栏中的"绘制表盘"按钮
- 系统会自动加载 `images/70-01.tif` 文件
- 如果文件不存在，系统会弹出文件选择对话框

### 3. 添加文本标注
- 在右侧文本框中输入要添加的文本
- 选择文本颜色（点击颜色按钮）
- 设置字体大小（8-48像素）
- 在图片上点击任意位置添加标注

### 4. 编辑标注
- 单击已有标注进行选择
- 在右侧面板修改文本、颜色或字体大小
- 双击标注直接编辑文本内容

### 5. 管理标注
- 在标注列表中查看所有标注
- 选择标注后点击"删除选中标注"
- 点击"清除所有标注"删除全部

### 6. 保存和加载
- 点击"保存标注"将标注保存为JSON文件
- 点击"加载标注"从JSON文件加载之前的标注

## 功能特性

- ✅ 自动加载表盘图片（70-01.tif）
- ✅ 鼠标点击添加文本标注
- ✅ 颜色选择器支持
- ✅ 字体大小调整（8-48像素）
- ✅ 标注选择和编辑
- ✅ 双击快速编辑
- ✅ 标注列表管理
- ✅ JSON格式保存/加载
- ✅ 图片缩放适应窗口
- ✅ 滚动区域支持大图片

## 文件位置

- 主要文件: `src/dialmarkdialog.h`, `src/dialmarkdialog.cpp`
- 测试图片: `images/70-01.tif`
- 保存格式: JSON文件（包含位置、文本、颜色、字体大小信息）

## 技术实现

- 使用Qt6框架开发
- 自定义AnnotationLabel类支持鼠标交互
- QScrollArea支持大图片显示
- QColorDialog提供颜色选择
- JSON格式数据持久化 